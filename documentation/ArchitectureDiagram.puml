@startuml
[suinput]
[uinput]
[Lua]
[joydev]
[Real Joystick Device] --> [joydev]
package "WeJoy" {
    [joydev] --> [Event Loop Thread]
    [Event Loop Thread] --> Lua
    [Lua handler] --> [suinput]
}
Lua --> [User Script]
[User Script] --> [Lua handler]
suinput --> [uinput]
[uinput] --> [Virtual Keyboard]
[uinput] --> [Virtual Joystick]


@enduml